[DEFAULT]
ODIRBASE=%(BASEDIR)s/output
ODIR=%(ODIRBASE)s/%(__name__)s/%(TIMESTAMP)s
BIN=%(BASEDIR)s/bin
LOGFILE=%(ODIRBASE)s/LOG
PYTHON=python
CURLTIMEOUT=-m 300
CURL=curl %(CURLTIMEOUT)s
TAR=tar
RM=rm
MV=mv
CP=cp
ZCAT=zcat
SED=sed
UNZIP=unzip

# With ConfigParser and Python 2.6 (anything less than 3.2) there is NO WAY for a
# config value to contain a percent character.
# HACK: The refresh script will replace the following PCT string with a "%" character.
# This allows us to include encoded characters in URLs in this config file.
# For example, to to include a space (%20) character:
#   spacechar: %(PCT)s20
#   myurl: http://someplace.com/path%(space)swith%(space)sspaces/
#
PCT=__LITERAL_PCT_CHAR__
SPACE=%(PCT)s20

[emapa]
cmd:
    %(PYTHON)s %(BIN)s/libdump/dumpEMAPAobo.py > %(ODIR)s/EMAPA.obo

[medic]
cmd:
    %(CURL)s https://gillnet.mdibl.org/~twiegers/mgi/mgiMEDIC.obo.gz | %(ZCAT)s > %(ODIR)s/MEDIC.obo
    %(PYTHON)s %(BIN)s/libdump/MedicConflater.py %(ODIR)s/MEDIC.obo %(ODIR)s/MEDIC_conflated.obo

[go]
cmd:
    %(CURL)s -o %(ODIR)s/GeneOntology.obo http://www.geneontology.org/ontology/obo_format_1_0/gene_ontology.1_0.obo

[mp]
cmd:
    %(CURL)s -o %(ODIR)s/MammalianPhenotype.obo ftp://ftp.informatics.jax.org/pub/reports/MPheno_OBO.ontology
    sed -i '/\(^created_by\)\|\(^creation_date\)/d' %(ODIR)s/MammalianPhenotype.obo


[uberon]
cmd:
    %(CURL)s -o %(ODIR)s/uberon.obo http://obo.svn.sourceforge.net/svnroot/obo/uberon/trunk/uberon.obo

[ma]
cmd:
    %(CURL)s -o %(ODIR)s/MA.obo http://www.berkeleybop.org/ontologies/ma.obo

[psi-mi]
cmd:
    %(CURL)s -o %(ODIR)s/psi-mi.obo http://psidev.cvs.sourceforge.net/viewvc/psidev/psi/mi/rel25/data/psi-mi25.obo

[mgi-base]
cmd: 
    %(PYTHON)s %(BIN)s/dumpMgiItemXml.py -d %(ODIR)s -Dmedicfile=%(ODIRBASE)s/medic/latest/MEDIC_conflated.obo --logfile %(LOGFILE)s


[yeastmine]
cmd:
    %(PYTHON)s %(BIN)s/libdump/fmfd.py -d %(ODIR)s -o yeast -l %(LOGFILE)s

[zebrafishmine]
cmd:
    %(PYTHON)s %(BIN)s/libdump/fmfd.py -d %(ODIR)s -o zebrafish

[ratmine]
cmd:
    %(PYTHON)s %(BIN)s/libdump/fmfd.py -d %(ODIR)s -o rat

[flymine]
cmd:
    %(PYTHON)s %(BIN)s/libdump/fmfd.py -d %(ODIR)s -o fly

[wormmine]
cmd:
    %(PYTHON)s %(BIN)s/libdump/fmfd.py -d %(ODIR)s -o worm

[entrez]
cmd:
    %(CURL)s ftp://ftp.ncbi.nih.gov/gene/DATA/gene_info.gz | %(ZCAT)s | %(SED)s s/MGI:MGI:/MGI:/g | %(SED)s s/HGNC:HGNC:/HGNC:/g > %(ODIR)s/entrez

[homologene]
cmd:
    %(CURL)s ftp://ftp.ncbi.nih.gov/pub/HomoloGene/current/homologene.data > %(ODIR)s/__tmp__
    %(PYTHON)s %(BIN)s/libdump/filterNonGenes.py -t homologene < %(ODIR)s/__tmp__ > %(ODIR)s/homologene.data
    %(RM)s %(ODIR)s/__tmp__

[panther]
cmd:
    %(CURL)s -o %(ODIR)s/RefGenomeOrthologs.tar.gz ftp://ftp.pantherdb.org/ortholog/current_release/RefGenomeOrthologs.tar.gz 
    %(TAR)s -xzvf %(ODIR)s/RefGenomeOrthologs.tar.gz -C %(ODIR)s
    %(RM)s %(ODIR)s/RefGenomeOrthologs.tar.gz
    %(PYTHON)s %(BIN)s/libdump/filterNonGenes.py -t panther < %(ODIR)s/RefGenomeOrthologs > %(ODIR)s/__tmp__
    %(MV)s %(ODIR)s/__tmp__ %(ODIR)s/RefGenomeOrthologs

[biogrid]
cmd:
    %(CURL)s -o %(ODIR)s/BIOGRID-ORGANISM.psi25.zip http://thebiogrid.org/downloads/archives/Latest%(SPACE)sRelease/BIOGRID-ORGANISM-LATEST.psi25.zip
    %(UNZIP)s %(ODIR)s/BIOGRID-ORGANISM.psi25.zip 'BIOGRID-ORGANISM-Mus_musculus*' 'BIOGRID-ORGANISM-Homo_sapiens*' -d %(ODIR)s

#[intact]
#cmd:
#    %(CURL)s -o %(ODIR)s/mouse.zip ftp://ftp.ebi.ac.uk/pub/databases/intact/current/psi25/species/mouse.zip
#    %(UNZIP)s %(ODIR)s/mouse.zip -d %(ODIR)s
